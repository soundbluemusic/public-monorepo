{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});import{mkdirSync,readFileSync,writeFileSync}from\"node:fs\";import{join}from\"node:path\";function generateParaglideMessages(config){const{messagesDir,outputDir,keyTransformer=__name(k=>k,\"keyTransformer\")}=config;const messagesOutputDir=join(outputDir,\"messages\");const enMessages=JSON.parse(readFileSync(join(messagesDir,\"en.json\"),\"utf-8\"));const koMessages=JSON.parse(readFileSync(join(messagesDir,\"ko.json\"),\"utf-8\"));mkdirSync(outputDir,{recursive:true});mkdirSync(messagesOutputDir,{recursive:true});const messageKeys=Object.keys(enMessages).filter(key=>key!==\"$schema\");const messageExports=[];for(const key of messageKeys){const en=enMessages[key];const ko=koMessages[key];const functionName=keyTransformer(key);const filename=`${keyTransformer(key).toLowerCase()}.js`;const content=`/* eslint-disable */\nimport { getLocale } from '../runtime.js';\n/** @typedef {import('../runtime.js').LocalizedString} LocalizedString */\n\nconst en_${functionName} = () => {\n  return \\`${en.replace(/`/g,\"\\\\`\")}\\`;\n};\n\nconst ko_${functionName} = () => {\n  return \\`${ko.replace(/`/g,\"\\\\`\")}\\`;\n};\n\n/**\n * @param {{}} inputs\n * @param {{ locale?: \"en\" | \"ko\" }} options\n * @returns {LocalizedString}\n */\nconst ${functionName} = (inputs = {}, options = {}) => {\n  const locale = options.locale ?? getLocale();\n  if (locale === \"en\") return en_${functionName}();\n  return ko_${functionName}();\n};\n\nexport { ${functionName} as \"${key}\" };\n`;writeFileSync(join(messagesOutputDir,filename),content,\"utf-8\");messageExports.push(`export * from './${filename}';`)}const indexContent=`/* eslint-disable */\n/** @typedef {import('../runtime.js').LocalizedString} LocalizedString */\n${messageExports.join(\"\\n\")}\n`;writeFileSync(join(messagesOutputDir,\"_index.js\"),indexContent,\"utf-8\");const messagesJsContent=`/* eslint-disable */\nexport * from './messages/_index.js';\n// enabling auto-import by exposing all messages as m\nexport * as m from './messages/_index.js';\n`;writeFileSync(join(outputDir,\"messages.js\"),messagesJsContent,\"utf-8\");const runtimeJsContent=`/* eslint-disable */\n\n// Initialize locale from URL path (for SSR/SSG support)\nfunction getInitialLocale() {\n  if (typeof window !== 'undefined') {\n    const pathname = window.location.pathname;\n    if (pathname.startsWith('/ko/') || pathname === '/ko') {\n      return 'ko';\n    }\n  }\n  // For SSR/SSG, check if global __PARAGLIDE_INITIAL_LOCALE__ is set\n  if (typeof globalThis !== 'undefined' && globalThis.__PARAGLIDE_INITIAL_LOCALE__) {\n    return globalThis.__PARAGLIDE_INITIAL_LOCALE__;\n  }\n  return 'en';\n}\n\nlet currentLocale = getInitialLocale();\n\nexport function getLocale() {\n  return currentLocale;\n}\n\nexport function setLocale(locale, options = {}) {\n  currentLocale = locale;\n  if (options.reload !== false && typeof window !== 'undefined') {\n    window.location.reload();\n  }\n}\n\nexport function onSetLocale(callback) {\n  // Stub for compatibility\n}\n`;writeFileSync(join(outputDir,\"runtime.js\"),runtimeJsContent,\"utf-8\");console.log(`\\u2705 Generated ${messageKeys.length} message functions`)}__name(generateParaglideMessages,\"generateParaglideMessages\");export{generateParaglideMessages};\n","warnings":[],"map":{"version":3,"mappings":"kHASA,OAAS,UAAW,aAAc,kBAAqB,UACvD,OAAS,SAAY,YAcd,SAAS,0BAA0B,OAA+B,CACvE,KAAM,CAAE,YAAa,UAAW,eAAiB,OAAC,GAAM,EAAP,iBAAS,EAAI,OAC9D,MAAM,kBAAoB,KAAK,UAAW,UAAU,EAGpD,MAAM,WAAa,KAAK,MAAM,aAAa,KAAK,YAAa,SAAS,EAAG,OAAO,CAAC,EACjF,MAAM,WAAa,KAAK,MAAM,aAAa,KAAK,YAAa,SAAS,EAAG,OAAO,CAAC,EAGjF,UAAU,UAAW,CAAE,UAAW,IAAK,CAAC,EACxC,UAAU,kBAAmB,CAAE,UAAW,IAAK,CAAC,EAGhD,MAAM,YAAc,OAAO,KAAK,UAAU,EAAE,OAAQ,KAAQ,MAAQ,SAAS,EAC7E,MAAM,eAA2B,CAAC,EAElC,UAAW,OAAO,YAAa,CAC7B,MAAM,GAAK,WAAW,GAAG,EACzB,MAAM,GAAK,WAAW,GAAG,EAEzB,MAAM,aAAe,eAAe,GAAG,EACvC,MAAM,SAAW,GAAG,eAAe,GAAG,EAAE,YAAY,CAAC,MAErD,MAAM,QAAU;AAAA;AAAA;AAAA;AAAA,WAIT,YAAY;AAAA,aACV,GAAG,QAAQ,KAAM,KAAK,CAAC;AAAA;AAAA;AAAA,WAGzB,YAAY;AAAA,aACV,GAAG,QAAQ,KAAM,KAAK,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAQ5B,YAAY;AAAA;AAAA,mCAEe,YAAY;AAAA,cACjC,YAAY;AAAA;AAAA;AAAA,WAGf,YAAY,QAAQ,GAAG;AAAA,EAG9B,cAAc,KAAK,kBAAmB,QAAQ,EAAG,QAAS,OAAO,EACjE,eAAe,KAAK,oBAAoB,QAAQ,IAAI,CACtD,CAGA,MAAM,aAAe;AAAA;AAAA,EAErB,eAAe,KAAK,IAAI,CAAC;AAAA,EAEzB,cAAc,KAAK,kBAAmB,WAAW,EAAG,aAAc,OAAO,EAGzE,MAAM,kBAAoB;AAAA;AAAA;AAAA;AAAA,EAK1B,cAAc,KAAK,UAAW,aAAa,EAAG,kBAAmB,OAAO,EAGxE,MAAM,iBAAmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkCzB,cAAc,KAAK,UAAW,YAAY,EAAG,iBAAkB,OAAO,EAEtE,QAAQ,IAAI,oBAAe,YAAY,MAAM,oBAAoB,CACnE,CA1GgB","names":[],"ignoreList":[],"sources":["/home/user/public-monorepo/packages/shared/src/paraglide-generator.ts"],"sourcesContent":[null]}}