---
title: "@soundblue/i18n"
description: React Router 통합을 통한 URL 기반 국제화 - Layer 2 도메인 패키지
sidebar:
  order: 6
---

# @soundblue/i18n

**Layer 2 (도메인)** — React Router v7 SSR/SSG 앱을 위한 URL 경로 기반 국제화.

## 개요

이 패키지는 SEO 친화적인 다국어 사이트를 위한 URL 경로 기반 언어 라우팅(예: `/ko/entry/hello`)과 메타 태그 생성을 제공합니다.

| 속성 | 값 |
|------|-----|
| 레이어 | 2 (도메인) |
| 의존성 | @soundblue/core, @soundblue/seo |
| React 필요 | 예 (훅용) |

## URL 라우팅 패턴

```
/entry/hello       → 영어 (기본)
/ko/entry/hello    → 한국어
```

모든 라우트는 빌드 시점에 각 언어로 복제됩니다.

## 내보내기

### `/core`

React 의존성 없는 핵심 i18n 유틸리티.

```typescript
import {
  getLocaleFromPath,
  stripLocaleFromPath,
  addLocaleToPath,
  generateI18nRoutes
} from '@soundblue/i18n/core';

// URL 경로에서 로케일 추출
getLocaleFromPath('/ko/entry/hello');  // 'ko'
getLocaleFromPath('/entry/hello');     // 'en'

// 로케일 접두사 제거
stripLocaleFromPath('/ko/entry/hello');  // '/entry/hello'

// 로케일 접두사 추가
addLocaleToPath('/entry/hello', 'ko');  // '/ko/entry/hello'
addLocaleToPath('/entry/hello', 'en');  // '/entry/hello'

// SSG용 i18n 라우트 생성
const entries = [{ id: 'hello' }, { id: 'world' }];
generateI18nRoutes(entries, (e) => `/entry/${e.id}`);
// ['/entry/hello', '/ko/entry/hello', '/entry/world', '/ko/entry/world']
```

### `/react`

i18n용 React 훅.

```typescript
import { useI18n, I18nProvider } from '@soundblue/i18n/react';

// Provider (앱 래핑)
function App() {
  return (
    <I18nProvider>
      <Routes />
    </I18nProvider>
  );
}

// 훅 사용
function MyComponent() {
  const { locale, t, localePath } = useI18n();

  return (
    <div>
      <p>현재 로케일: {locale}</p>
      <p>{t('greeting')}</p>
      <Link to={localePath('/about')}>
        {t('about')}
      </Link>
    </div>
  );
}
```

#### `useI18n` 반환 값

| 속성 | 타입 | 설명 |
|------|------|------|
| `locale` | `'en' \| 'ko'` | 현재 로케일 |
| `t` | `(key: string) => string` | 번역 함수 |
| `localePath` | `(path: string) => string` | 경로에 로케일 접두사 추가 |
| `switchLocale` | `(locale: Language) => void` | 언어 변경 |

### `/meta`

SEO를 위한 메타 태그 생성.

```typescript
import { metaFactory, dynamicMetaFactory } from '@soundblue/i18n/meta';

// 정적 라우트
export const meta = metaFactory({
  ko: { title: '소개 - Context', description: '한국어 사전 소개' },
  en: { title: 'About - Context', description: 'About Korean Dictionary' },
}, 'https://context.soundbluemusic.com');

// 로더 데이터가 있는 동적 라우트
export const meta = dynamicMetaFactory<typeof loader>({
  getTitle: (data) => `${data.entry.word} - Context`,
  getDescription: (data) => data.entry.translations.explanation,
  baseUrl: 'https://context.soundbluemusic.com',
});
```

## SEO 출력

메타 팩토리는 적절한 SEO 태그를 생성합니다:

```html
<!-- /entry/hello (영어 페이지) -->
<title>Hello - Context</title>
<meta name="description" content="한국어의 일반적인 인사" />
<link rel="canonical" href="https://context.soundbluemusic.com/entry/hello" />
<link rel="alternate" hreflang="en" href="https://context.soundbluemusic.com/entry/hello" />
<link rel="alternate" hreflang="ko" href="https://context.soundbluemusic.com/ko/entry/hello" />
<link rel="alternate" hreflang="x-default" href="https://context.soundbluemusic.com/entry/hello" />
```
